<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Cat Facts Button</title>
  </head>

  <body>
    <button onclick="showCatFact()">Get a Cat fact</button>

    <p id="catfact"></p>
    <script>
      async function getCatFact() {
        const name = "persian";
        const api_endpoint = `https://api.api-ninjas.com/v1/cats?name=${name}`;
        const response = await fetch(api_endpoint, {
          headers: {
            "X-Api-Key": "U2td7BdGa3qG+HXK2RcvQQ==AapTsjNKga7LC4Qz",
          },
        });
        const json_response = await response.json();

        console.log(json_response);
        return json_response;
      }

      async function showCatFact() {
        const catFactResponse = await getCatFact();
        const paragraphTag = document.getElementById("catfact");
        // paragraphTag.innerText = JSON.stringify(catFactResponse[0]);
        catFactResponse.map((cat) => {
          paragraphTag.innerText += `\nThe name of the cat is ${cat.name} it originated from ${cat.origin}.\n
          It can grow ${cat.length}. Here is some other useful information:\n
          Intelligence Rating: ${cat.intelligence}\n
          Life Expectancy: ${cat.min_life_expectancy} - ${cat.max_life_expectancy} years\n
          Playfulness Rating: ${cat.playfulness}\n
          Shedding Rating: ${cat.shedding}\n
          `;
        });
      }
    </script>
  </body>
</html>
